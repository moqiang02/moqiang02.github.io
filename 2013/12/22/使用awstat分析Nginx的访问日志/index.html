<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>使用awstat分析Nginx的访问日志 | 自强不息</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="在我的上一篇文章《使用 Nginx 提升网站访问速度》中介绍了 Nginx 这个 HTTP 服务器以及如何通过它来加速网站的访问速度。在实际的网站运营中，我们经常需要了解到网站的访问情况，例如每天有多少 IP 在访问、PV 数是多少、哪个 URL 访问量最大、用户使用最多的浏览器是哪个、都是通过什么方式知道这个网站的以及有多少用户访问出错等等，通过掌握这些信息来提高用户的体验，从而改善网站的质量。">
<meta property="og:type" content="article">
<meta property="og:title" content="使用awstat分析Nginx的访问日志">
<meta property="og:url" content="http://moqiang02.github.io/2013/12/22/%E4%BD%BF%E7%94%A8awstat%E5%88%86%E6%9E%90Nginx%E7%9A%84%E8%AE%BF%E9%97%AE%E6%97%A5%E5%BF%97/index.html">
<meta property="og:site_name" content="自强不息">
<meta property="og:description" content="在我的上一篇文章《使用 Nginx 提升网站访问速度》中介绍了 Nginx 这个 HTTP 服务器以及如何通过它来加速网站的访问速度。在实际的网站运营中，我们经常需要了解到网站的访问情况，例如每天有多少 IP 在访问、PV 数是多少、哪个 URL 访问量最大、用户使用最多的浏览器是哪个、都是通过什么方式知道这个网站的以及有多少用户访问出错等等，通过掌握这些信息来提高用户的体验，从而改善网站的质量。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://moqiang02.github.io/images/%E4%BD%BF%E7%94%A8awstat%E5%88%86%E6%9E%90Nginx%E7%9A%84%E8%AE%BF%E9%97%AE%E6%97%A5%E5%BF%97/1.jpg">
<meta property="article:published_time" content="2013-12-22T03:12:14.000Z">
<meta property="article:modified_time" content="2022-10-26T09:28:54.075Z">
<meta property="article:author" content="moqiang">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://moqiang02.github.io/images/%E4%BD%BF%E7%94%A8awstat%E5%88%86%E6%9E%90Nginx%E7%9A%84%E8%AE%BF%E9%97%AE%E6%97%A5%E5%BF%97/1.jpg">
  
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">自强不息</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://moqiang02.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-使用awstat分析Nginx的访问日志" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2013/12/22/%E4%BD%BF%E7%94%A8awstat%E5%88%86%E6%9E%90Nginx%E7%9A%84%E8%AE%BF%E9%97%AE%E6%97%A5%E5%BF%97/" class="article-date">
  <time class="dt-published" datetime="2013-12-22T03:12:14.000Z" itemprop="datePublished">2013-12-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/nginx/">nginx</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      使用awstat分析Nginx的访问日志
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      

          <!-- rex -->
          
            <!-- 文章目录开始 -->
            
              <div id="toc" class="toc-article">
              <strong class="toc-title" style="cursor:pointer">目录</strong>
              <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-Nginx-%E8%87%AA%E5%8A%A8%E5%88%87%E5%89%B2%E6%97%A5%E5%BF%97"><span class="toc-number">1.</span> <span class="toc-text">配置 Nginx 自动切割日志</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE-Awstats"><span class="toc-number">2.</span> <span class="toc-text">安装和配置 Awstats</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-Awstats-%E8%87%AA%E5%8A%A8%E8%BF%90%E8%A1%8C"><span class="toc-number">3.</span> <span class="toc-text">配置 Awstats 自动运行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%9D%E6%8A%A4%E6%97%A5%E5%BF%97%E7%BB%9F%E8%AE%A1%E7%BB%93%E6%9E%9C%E9%A1%B5%E9%9D%A2"><span class="toc-number">4.</span> <span class="toc-text">保护日志统计结果页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">5.</span> <span class="toc-text">总结</span></a></li></ol>
              </div>
            
            <!-- 文章目录结束 -->	  
          

        <p>在我的上一篇文章<a target="_blank" rel="noopener" href="http://blog.csdn.net/moqiang02/article/details/linux.chinaitlab.com/server/768231.html">《使用 Nginx 提升网站访问速度》</a>中介绍了 Nginx 这个 HTTP 服务器以及如何通过它来加速网站的访问速度。在实际的网站运营中，我们经常需要了解到网站的访问情况，例如每天有多少 IP 在访问、PV 数是多少、哪个 URL 访问量最大、用户使用最多的浏览器是哪个、都是通过什么方式知道这个网站的以及有多少用户访问出错等等，通过掌握这些信息来提高用户的体验，从而改善网站的质量。一般我们可以通过一些免费的访问统计网站例如 Google Analytics 来或者这些信息。但不足之处是这类网站只能对页面进行分析，不包括静态文件；另外可能有很多的站长不愿意使用这类工具来暴露自己的数据，种种的这些因素使站长希望自己来分析访问日志。而 awstats 就可以满足所有的这些需求。</p>
<span id="more"></span>
<p>Awstats 是在 SourceForge 上发展很快的一个基于 Perl 的 WEB 日志分析工具，一个充分的日志分析让 Awstats 显示您下列资料:</p>
<ul>
<li>访问次数、独特访客人数,</li>
<li>访问时间和上次访问,</li>
<li>使用者认证、最近认证的访问,</li>
<li>每周的高峰时间(页数,点击率,每小时和一周的千字节),</li>
<li>域名/国家的主机访客(页数,点击率,字节,269域名/国家检测, geoip 检测),</li>
<li>主机名单,最近访问和未解析的 IP 地址名单</li>
<li>大多数看过的进出页面,</li>
<li>档案类型,</li>
<li>网站压缩统计表(mod_gzip 或者 mod_deflate),</li>
<li>使用的操作系统 (每个操作系统的页数,点击率 ,字节, 35 OS detected),</li>
<li>使用的浏览器,</li>
<li>机器人访问(检测 319 个机器人),</li>
<li>蠕虫攻击 (5 个蠕虫家族),</li>
<li>搜索引擎，利用关键词检索找到你的地址,</li>
<li>HTTP 协议错误(最近查阅没有找到的页面),</li>
<li>其他基于 URL 的个性报导,链接参数, 涉及综合行销领域目的.</li>
<li>贵网站被加入”最喜爱的书签”.次数.</li>
<li>屏幕大小(需要在索引页补充一些 HTML 标签).</li>
<li>浏览器的支持比例: Java, Flash, RealG2 reader, Quicktime reader, WMA reader, PDF reader.</li>
<li>负载平衡服务器比率集群报告.<br>Awstats 的运行是需要 PERL 环境的支持，从 awstats 的文档来看，它对 Apache HTTP Server 的支持是非常完美的，而当我们把 Web 服务器换成 Nginx 后，要运行 awstats 变得很麻烦。首先 Nginx 本身对 Perl 的支持是比较弱的，甚至官方也不建议使用；另外在日志格式上有需要修改后才能运行。</li>
</ul>
<p>本文主要介绍通过让 awstats 对日志统计的结果生成静态页面，然后通过 Nginx 输出以达到统计 Nginx 访问日志的效果，其中还包括如何让 Nginx 自动切割日志文件。</p>
<h3 id="配置-Nginx-自动切割日志"><a href="#配置-Nginx-自动切割日志" class="headerlink" title="配置 Nginx 自动切割日志"></a>配置 Nginx 自动切割日志</h3><p>跟 Apache HTTP Server（以下称 Apache）不同的是，Apache 可以将日志输出通过管道的方式进行重新定向，依此来进行自动的日志切割。Nginx 在现今版本上还没能跟 Apache 一样，通过<code>%Y%m%d</code>等参数按日期分批创建日志，但是通过给 nginx 进程发送一个特定的信号，可以使 nginx 重新生成日志文件。我们可以定期执行一个 Shell 脚本来切换日志，重新命名或转移，具体的脚本如下：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span>  /opt/nginx/logs/access.log /opt/nginx/logs/access_`<span class="built_in">date</span> +%Y%m%d`.<span class="built_in">log</span></span><br><span class="line">killall –s USR1 nginx <span class="comment">#使用USR1参数通知Nginx进程切换日志文件</span></span><br></pre></td></tr></table></figure>
<p>将以上脚本内容保存为文件名为 logcron.sh 存到自定的目录中，例如 <code>/opt/nginx/sbin/logcron.sh</code></p>
<p>使用 Crontab 让该脚本程序在每天晚上 11 点 59 分自动执行，即可做到按天创建日志。</p>
<h3 id="安装和配置-Awstats"><a href="#安装和配置-Awstats" class="headerlink" title="安装和配置 Awstats"></a>安装和配置 Awstats</h3><p>安装之前，必须确认你的服务器上 Perl 的环境已经就绪。</p>
<p>查看当前环境 Perl 版本的命令是 <code>perl -version</code></p>
<p>我们还需要对 Nginx 的日志格式做个小修改，不然 awstats 将无法进行统计。</p>
<p>例子如下(加粗部分)： </p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vi /opt/nginx/conf/nginx.conf</span></span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"><span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line"><span class="attribute">server_name</span>  localhost;</span><br><span class="line"></span><br><span class="line"><span class="section">location</span> <span class="regexp">~ ^/web/</span> &#123;</span><br><span class="line"><span class="attribute">root</span>   /data/web;</span><br><span class="line"><span class="attribute">index</span>  index.html;</span><br><span class="line"><span class="attribute">error_log</span> <span class="literal">off</span>;</span><br><span class="line"><span class="attribute">charset</span> gb2312;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="attribute">log_format</span>  new_log	<span class="comment">#格式代称 (注意，如果有多个虚拟主机，代称不能一样)(加粗部分)</span></span><br><span class="line"><span class="string">&#x27;<span class="variable">$remote_addr</span> - <span class="variable">$remote_user</span> [<span class="variable">$time_local</span>] <span class="variable">$request</span> &#x27;</span></span><br><span class="line">        <span class="string">&#x27;&quot;<span class="variable">$status</span>&quot; <span class="variable">$body_bytes_sent</span> &quot;<span class="variable">$http_referer</span>&quot; &#x27;</span></span><br><span class="line">        <span class="string">&#x27;&quot;<span class="variable">$http_user_agent</span>&quot; &quot;<span class="variable">$http_x_forwarded_for</span>&quot;&#x27;</span>;</span><br><span class="line">        <span class="attribute">access_log</span>  logs/access.log new_log;	<span class="comment">#日志生成路径(加粗部分)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下载最新版本的 awstats 包，下载地址请见文章最后的参考资料。把下载后的 tar 包解压到任意目录中，例: <code>/usr/local/awstats</code> 。然后执行 tools 目录中的 awstats_configure.pl 配置向导，创建一个新的统计。</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-----&gt; Check for web server install</span></span><br><span class="line"></span><br><span class="line">Enter <span class="keyword">full</span> config file <span class="type">path</span> <span class="keyword">of</span> your Web <span class="keyword">server</span>.</span><br><span class="line">Example: /etc/httpd/httpd.conf</span><br><span class="line">Example: /usr/<span class="keyword">local</span>/apache2/conf/httpd.conf</span><br><span class="line">Example: c:\Program files\apache <span class="keyword">group</span>\apache\conf\httpd.conf</span><br><span class="line">Config file path (<span class="string">&#x27;none&#x27;</span> <span class="keyword">to</span> skip web <span class="keyword">server</span> setup):</span><br><span class="line">#&gt; <span class="keyword">none</span>  #因为我们这里用的是 Nginx，所以写 <span class="keyword">none</span>，跳过。</span><br></pre></td></tr></table></figure>
<p>回车</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Your web server config <span class="keyword">file</span>(s) could not <span class="keyword">be</span> found.</span><br><span class="line">You will need <span class="keyword">to</span> setup your web server manually <span class="keyword">to</span> declare AWStats</span><br><span class="line">script <span class="keyword">as</span> <span class="keyword">a</span> CGI, <span class="keyword">if</span> you want <span class="keyword">to</span> build reports dynamically.</span><br><span class="line">See AWStats setup documentation (<span class="keyword">file</span> docs/<span class="built_in">index</span>.html)</span><br><span class="line"></span><br><span class="line">-----&gt; Update model config <span class="keyword">file</span> <span class="string">&#x27;/usr/local/awstats/wwwroot/cgi-bin/awstats.model.conf&#x27;</span></span><br><span class="line">  File awstats.model.<span class="keyword">conf</span> updated.</span><br><span class="line"></span><br><span class="line">-----&gt; Need <span class="keyword">to</span> create <span class="keyword">a</span> <span class="keyword">new</span> config <span class="keyword">file</span> ?</span><br><span class="line">Do you want <span class="keyword">me</span> <span class="keyword">to</span> build <span class="keyword">a</span> <span class="keyword">new</span> AWStats config/<span class="keyword">profile</span></span><br><span class="line"><span class="keyword">file</span> (required <span class="keyword">if</span> <span class="keyword">first</span> install) [<span class="keyword">y</span>/<span class="keyword">N</span>] ?</span><br><span class="line">#&gt; <span class="keyword">y</span>	#y 创建一个新的统计配置</span><br></pre></td></tr></table></figure>
<p>回车</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> -----&gt; Define config <span class="keyword">file</span> <span class="keyword">name</span> <span class="keyword">to</span> create</span><br><span class="line">What <span class="keyword">is</span> the <span class="keyword">name</span> <span class="keyword">of</span> your web site <span class="keyword">or</span> profile analysis ?</span><br><span class="line">Example: www.mysite.com</span><br><span class="line">Example: demo</span><br><span class="line">Your web site, <span class="keyword">virtual</span> server <span class="keyword">or</span> profile <span class="keyword">name</span>:</span><br><span class="line">#&gt; www.moabc.net #统计网站的域名 例：</span><br><span class="line">www.moabc.net</span><br></pre></td></tr></table></figure>
<p>回车</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">-----&gt; Define config file path</span></span><br><span class="line">In which <span class="built_in">directory</span> <span class="built_in">do</span> you plan <span class="built_in">to</span> store your config <span class="built_in">file</span>(s) ?</span><br><span class="line">Default: /etc/awstats</span><br><span class="line">Directory path <span class="built_in">to</span> store config <span class="built_in">file</span>(s) (Enter <span class="keyword">for</span> default):</span><br><span class="line"><span class="comment">#&gt; </span></span><br></pre></td></tr></table></figure>
<p>使用默认直接回车，接下来便会出现以下的提示</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">----&gt; Add update process inside a scheduler</span></span><br><span class="line">Sorry, configure.pl does <span class="keyword">not</span> support automatic <span class="built_in">add</span> <span class="built_in">to</span> cron yet.</span><br><span class="line">You can <span class="built_in">do</span> <span class="keyword">it</span> manually <span class="keyword">by</span> adding <span class="keyword">the</span> following <span class="keyword">command</span> <span class="title">to</span> <span class="title">your</span> <span class="title">cron</span>:</span><br><span class="line">/usr/<span class="built_in">local</span>/awstats/wwwroot/cgi-bin/awstats.pl -update -config=www.moabc.net  </span><br><span class="line">               <span class="comment">#回头把该命令填入crontab 按指定时间执行</span></span><br><span class="line">Or <span class="keyword">if</span> you have several config <span class="built_in">files</span> <span class="keyword">and</span> prefer having only <span class="literal">one</span> <span class="keyword">command</span>:</span><br><span class="line">/usr/<span class="built_in">local</span>/awstats/tools/awstats_updateall.pl now</span><br><span class="line">Press ENTER <span class="built_in">to</span> continue... 回车继续</span><br><span class="line"></span><br><span class="line">A SIMPLE config <span class="built_in">file</span> has been created: /etc/awstats/awstats.www.moabc.net.conf  </span><br><span class="line">            <span class="comment">#新配置文件所在的路径</span></span><br><span class="line">You should have <span class="keyword">a</span> look inside <span class="built_in">to</span> check <span class="keyword">and</span> change manually main parameters.</span><br><span class="line">You can <span class="keyword">then</span> manually update your statistics <span class="keyword">for</span> <span class="string">&#x27;www.moabc.net&#x27;</span> <span class="keyword">with</span> <span class="keyword">command</span>:</span><br><span class="line">&gt; perl awstats.pl -update -config=www.moabc.net</span><br><span class="line">You can also build static report pages <span class="keyword">for</span> <span class="string">&#x27;www.moabc.net&#x27;</span> <span class="keyword">with</span> <span class="keyword">command</span>:</span><br><span class="line">&gt; perl awstats.pl -output=pagetype -config=www.moabc.net</span><br><span class="line"></span><br><span class="line">Press ENTER <span class="built_in">to</span> finish...</span><br></pre></td></tr></table></figure>
<p>回车完成向导，接下来修改 <a target="_blank" rel="noopener" href="http://www.moabc.net/">www.moabc.net</a> 的统计配置</p>
<p><code>vi /etc/awstats/awstats.www.moabc.net.conf</code></p>
<p>找到统计的日志文件的路径</p>
<p><code>LogFile=&quot;/var/log/httpd/mylog.log&quot;</code></p>
<p>改为</p>
<p><code>LogFile=&quot;/opt/nginx/logs/access_%YYYY-0%MM-0%DD-0.log</code></p>
<p>对应上边 Nginx 日志切割程序的所生成的目录存放结构，要注意 Awstats 的年月日格式的跟 Nginx 的写法有所不同。我们现在执行统计的顺序是：</p>
<p>Nginx 产生日志 –&gt; 日志切割 –&gt; Nginx 继续产生日志 –&gt; 另存切割日志 –&gt; 交由Awstats统计 –&gt; 生成结果</p>
<p>在本文中 Awstats 所统计的日志，是已切下来的那部分。也能调转顺序，先统计完了再切。不过这比较容易造成统计的遗漏。配置修改完成后，保存退出。然后我们可以开始试一下手动执行。</p>
<p>1.先执行日志切割脚本 logcron.sh 把 Nginx 的日志切下来。<br>2.然后执行 Awstats 日志更新程序开始统计分析。</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /opt/nginx/sbin/logcron.sh</span></span><br><span class="line"><span class="comment"># /usr/local/awstats/wwwroot/cgi-bin/awstats.pl -update -config=www.moabc.net</span></span><br><span class="line"></span><br><span class="line">Create/Update database <span class="keyword">for</span> config <span class="string">&quot;/etc/awstats/awstats.www.moabc.net.conf&quot;</span></span><br><span class="line">        <span class="keyword">by</span> AWStats <span class="built_in">version</span> <span class="number">6.7</span> (build <span class="number">1.892</span>)</span><br><span class="line">From data <span class="keyword">in</span> <span class="built_in">log</span> <span class="built_in">file</span> <span class="string">&quot;/opt/nginx/logs/access_20080804.log&quot;</span>...</span><br><span class="line">Phase <span class="number">1</span> : First bypass old records, searching <span class="built_in">new</span> record...</span><br><span class="line">Direct access <span class="keyword">after</span> <span class="keyword">last</span> parsed record (<span class="keyword">after</span> <span class="built_in">line</span> <span class="number">450421</span>)</span><br><span class="line">Jumped <span class="keyword">lines</span> <span class="keyword">in</span> <span class="built_in">file</span>: <span class="number">450421</span></span><br><span class="line">Found <span class="number">450421</span> already parsed records.</span><br><span class="line">Parsed <span class="keyword">lines</span> <span class="keyword">in</span> <span class="built_in">file</span>: <span class="number">120</span></span><br><span class="line">Found <span class="number">0</span> dropped records,</span><br><span class="line">Found <span class="number">0</span> corrupted records,</span><br><span class="line">Found <span class="number">0</span> old records,</span><br><span class="line">Found <span class="number">120</span> <span class="built_in">new</span> qualified records.</span><br></pre></td></tr></table></figure>
<p>看到以上显示，证明日志切割和 Awstats 都已经运行无误了。统计分析完成后，结果还在 Awstats 的数据库中。在 Apache 上，可以直接打开 Perl 程序的网页查看统计。但本文开始时已经提到，Nginx 对 Perl 支持并不好，所以我们要换个方法，利用 awstats 的工具将统计的结果生成静态文件，具体的步骤如下：</p>
<ul>
<li>首先在 webroot 目录下创建一个文件夹。例：/data/webroot/awstats</li>
<li>然后让 Awstats 把静态页面生成到该目录中</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mkdir  /data/webroot/awstats</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># /usr/local/awstats/tools/awstats_buildstaticpages.pl -update  \ </span></span><br><span class="line">-config=www.moabc.net -lang=cn -<span class="built_in">dir</span>=/data/admin_web/awstats  \</span><br><span class="line">-awstatsprog=/usr/local/awstats/wwwroot/cgi-bin/awstats.pl</span><br></pre></td></tr></table></figure>

<p>上述命令的具体意思如下：</p>
<ul>
<li><code>/usr/local/awstats/tools/awstats_buildstaticpages.pl </code>Awstats 静态页面生成工具</li>
<li><code>-update -config=www.moabc.net</code> 更新配置项</li>
<li><code>-lang=cn</code> 语言为中文</li>
<li><code>-dir=/data/admin_web/awstats</code> 统计结果输出目录</li>
<li><code>-awstatsprog=/usr/local/awstats/wwwroot/cgi-bin/awstats.pl</code> Awstats 日志更新程序路径。</li>
</ul>
<p>接下来，只需在nginx.conf 中，把该目录配置上去即可。例子如下:(加粗部分):</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"><span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line"><span class="attribute">server_name</span>  localhost;</span><br><span class="line"></span><br><span class="line"><span class="section">location</span> <span class="regexp">~ ^/web/</span> &#123;</span><br><span class="line"><span class="attribute">root</span>   /data/web;</span><br><span class="line"><span class="attribute">index</span>  index.html;</span><br><span class="line"><span class="attribute">error_log</span> <span class="literal">off</span>;</span><br><span class="line"><span class="attribute">charset</span> gb2312;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">location</span> <span class="regexp">~ ^/awstats/</span> &#123;     <span class="comment"># html 静态页面目录(加粗部分)</span></span><br><span class="line">        <span class="attribute">root</span>   /data/webroot;</span><br><span class="line">        <span class="attribute">index</span>  index.html;</span><br><span class="line">        <span class="attribute">access_log</span> <span class="literal">off</span>;</span><br><span class="line">        <span class="attribute">error_log</span> <span class="literal">off</span>;</span><br><span class="line">        <span class="attribute">charset</span> gb2312; <span class="comment">#最好把默认编码改成 gb2312避免浏览器因自动编码出现乱码的情况</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">location</span> <span class="regexp">~ ^/icon/</span> &#123;             <span class="comment"># 图标目录(加粗部分)</span></span><br><span class="line">        <span class="attribute">root</span>   /usr/local/awstats/wwwroot;</span><br><span class="line">        <span class="attribute">index</span>  index.html;</span><br><span class="line">        <span class="attribute">access_log</span> <span class="literal">off</span>;</span><br><span class="line">        <span class="attribute">error_log</span> <span class="literal">off</span>;</span><br><span class="line">        <span class="attribute">charset</span> gb2312;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>用浏览器查看到统计的详细结果 <a target="_blank" rel="noopener" href="http://youhostname/awstats/awstats.www.moabc.net.html">http://youhostname/awstats/awstats.www.moabc.net.html</a></p>
<p>至此，使用 awstats 已能完全支持 Nginx 的日志统计。</p>
<h3 id="配置-Awstats-自动运行"><a href="#配置-Awstats-自动运行" class="headerlink" title="配置 Awstats 自动运行"></a>配置 Awstats 自动运行</h3><p>为了让整个日志的统计过程自动完成，我们需要设置 crontab 计划任务，让 Nginx 日志切割以及 Awstats 自动运行，定时生成结果页面。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#vi /etc/crontab</span></span><br><span class="line"></span><br><span class="line">11 59 * * * /opt/nginx/sbin/logcron.sh <span class="comment">#半夜11:59  进行日志切割</span></span><br><span class="line"></span><br><span class="line">00 1 * * * /usr/local/awstats/tools/awstats_buildstaticpages.pl  \</span><br><span class="line">-update -config=www.moabc.net -lang=cn -<span class="built_in">dir</span>=/data/admin_web/awstats \</span><br><span class="line">-awstatsprog=/usr/local/awstats/wwwroot/cgi-bin/awstats.pl  </span><br><span class="line"></span><br><span class="line"><span class="comment">#凌晨00:01  Awstats进行日志分析</span></span><br><span class="line"></span><br><span class="line">:wq保存退出</span><br><span class="line"><span class="comment">#crontab /etc/crontab 指定cron所执行的配置档路径</span></span><br></pre></td></tr></table></figure>
<h3 id="保护日志统计结果页面"><a href="#保护日志统计结果页面" class="headerlink" title="保护日志统计结果页面"></a>保护日志统计结果页面</h3><p>一般站长都不愿随便让人知道自己站的真实流量，所以要把 Awstats 统计结果页面进行密码保护。Nginx 使用的是跟 Apache 一样的密码加密格式，这里需要用到 apache 自带的工具 htpasswd。</p>
<p>如果你在本机上默认装有 Apache，这你就只需在它的程序目录下运行</p>
<p>例:</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#/usr/local/apache2/bin/htpasswd -c admin.pass admin #用户名为admin</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">New</span> password:			输入密码</span><br><span class="line">Re-type new password:		重复输入</span><br><span class="line">Adding password for user admin	创建成功</span><br><span class="line"></span><br><span class="line">然后把 admin.pass 这个密码包找个的地方藏起来.</span><br><span class="line">修改 nginx.conf 在 location 中加入(加粗部分)：</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line"> 	<span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line"> 	<span class="attribute">server_name</span>  localhost;</span><br><span class="line"> 	<span class="section">location</span> <span class="regexp">~ ^/web/</span> &#123;</span><br><span class="line">                <span class="attribute">root</span>   /data/web;</span><br><span class="line">                <span class="attribute">index</span>  index.html;</span><br><span class="line">                <span class="attribute">error_log</span> <span class="literal">off</span>;</span><br><span class="line">                <span class="attribute">charset</span> gb2312;</span><br><span class="line"> 	&#125; </span><br><span class="line"></span><br><span class="line"> 	<span class="section">location</span> <span class="regexp">~ ^/awstats/</span> &#123;	    <span class="comment"># html 静态页面目录</span></span><br><span class="line">                <span class="attribute">root</span>   /data/admin_web;</span><br><span class="line">                <span class="attribute">index</span>  index.html;</span><br><span class="line">                <span class="attribute">access_log</span> <span class="literal">off</span>;</span><br><span class="line">                <span class="attribute">error_log</span> <span class="literal">off</span>;</span><br><span class="line">                <span class="attribute">charset</span> gb2312;	</span><br><span class="line">                <span class="attribute">auth_basic</span>     <span class="string">&quot;admin&quot;</span>; <span class="comment">#用户名</span></span><br><span class="line">                <span class="attribute">auth_basic_user_file</span> /opt/ngx/conf/admin.pass; <span class="comment">#密码包路径</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="section">location</span> <span class="regexp">~ ^/icon/</span> &#123;             <span class="comment"># 图标目录</span></span><br><span class="line">                <span class="attribute">root</span>   /usr/local/awstats/wwwroot;</span><br><span class="line">                <span class="attribute">index</span>  index.html;</span><br><span class="line">                <span class="attribute">access_log</span> <span class="literal">off</span>;</span><br><span class="line">                <span class="attribute">error_log</span> <span class="literal">off</span>;</span><br><span class="line">                <span class="attribute">charset</span> gb2312;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>修改 Nginx 配置完毕后，执行命令 <code>killall –s HUP nginx</code> 让 Nginx 重新加载配置即可。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>尽管跟 Apache HTTP Server 相比较而言，Nginx 的功能是比较弱的，但是我们依然可以利用一些技巧来规避这些弱点，Nginx 的设计者肯定也是充分考虑到这个问题。现在也越来越多的第三方开发的模块在逐渐的扩展 Nginx 的功能。但是从应用本身的角度而言，Nginx 更倾向于卓越的性能，而非大而全的功能，因而在一些附加方面的功能，我们也不能对之要求过高。<br><img src="/images/%E4%BD%BF%E7%94%A8awstat%E5%88%86%E6%9E%90Nginx%E7%9A%84%E8%AE%BF%E9%97%AE%E6%97%A5%E5%BF%97/1.jpg"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://moqiang02.github.io/2013/12/22/%E4%BD%BF%E7%94%A8awstat%E5%88%86%E6%9E%90Nginx%E7%9A%84%E8%AE%BF%E9%97%AE%E6%97%A5%E5%BF%97/" data-id="cla0v66b401rug0v10la24lbr" data-title="使用awstat分析Nginx的访问日志" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2013/12/22/nginx-File-not-found-%E9%94%99%E8%AF%AF/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前一篇</strong>
      <div class="article-nav-title">
        
          nginx File not found 错误
        
      </div>
    </a>
  
  
    <a href="/2013/12/21/Nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E5%92%8CLVS%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%9A%84%E6%AF%94%E8%BE%83%E5%88%86%E6%9E%90/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">后一篇</strong>
      <div class="article-nav-title">Nginx负载均衡和LVS负载均衡的比较分析</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/android/">android</a><span class="category-list-count">255</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/apache/">apache</a><span class="category-list-count">27</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/flutter/">flutter</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/github%E5%8D%9A%E5%AE%A2/">github博客</a><span class="category-list-count">19</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/go/">go</a><span class="category-list-count">26</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/html-css/">html+css</a><span class="category-list-count">27</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iis/">iis</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">82</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a><span class="category-list-count">123</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/kotlin/">kotlin</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">68</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mac/">mac</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/memcached/">memcached</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a><span class="category-list-count">19</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a><span class="category-list-count">74</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/nginx/">nginx</a><span class="category-list-count">41</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/nodejs/">nodejs</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/php/">php</a><span class="category-list-count">185</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a><span class="category-list-count">44</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/redis/">redis</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%85%B6%E5%AE%83/">其它</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">开发工具</a><span class="category-list-count">51</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/">开源项目</a><span class="category-list-count">73</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB%E9%9A%8F%E7%AC%94/">生活随笔</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E7%BB%9C/">网络</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93/">量化交易</a><span class="category-list-count">3</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/AndroidStudio/" style="font-size: 13.33px;">AndroidStudio</a> <a href="/tags/AndroidUI/" style="font-size: 20px;">AndroidUI</a> <a href="/tags/Android%E4%BA%8B%E4%BB%B6%E6%8B%A6%E6%88%AA/" style="font-size: 11.11px;">Android事件拦截</a> <a href="/tags/Android%E5%BC%80%E6%BA%90/" style="font-size: 17.22px;">Android开源</a> <a href="/tags/CI/" style="font-size: 15.56px;">CI</a> <a href="/tags/CURL/" style="font-size: 12.78px;">CURL</a> <a href="/tags/DEDE/" style="font-size: 17.78px;">DEDE</a> <a href="/tags/Docker/" style="font-size: 14.44px;">Docker</a> <a href="/tags/Flask/" style="font-size: 10.56px;">Flask</a> <a href="/tags/JavaSE/" style="font-size: 18.89px;">JavaSE</a> <a href="/tags/Laravel/" style="font-size: 17.22px;">Laravel</a> <a href="/tags/Maven/" style="font-size: 11.11px;">Maven</a> <a href="/tags/MybatisPlus/" style="font-size: 11.11px;">MybatisPlus</a> <a href="/tags/Puppeteer/" style="font-size: 15px;">Puppeteer</a> <a href="/tags/SVN/" style="font-size: 10px;">SVN</a> <a href="/tags/Selenium/" style="font-size: 11.67px;">Selenium</a> <a href="/tags/SpringBoot/" style="font-size: 19.44px;">SpringBoot</a> <a href="/tags/Thinkphp/" style="font-size: 10px;">Thinkphp</a> <a href="/tags/UEditor/" style="font-size: 11.67px;">UEditor</a> <a href="/tags/VMware/" style="font-size: 12.22px;">VMware</a> <a href="/tags/Vue/" style="font-size: 18.89px;">Vue</a> <a href="/tags/WebSocket/" style="font-size: 12.78px;">WebSocket</a> <a href="/tags/ecshop/" style="font-size: 14.44px;">ecshop</a> <a href="/tags/scrapy/" style="font-size: 13.89px;">scrapy</a> <a href="/tags/smarty/" style="font-size: 12.22px;">smarty</a> <a href="/tags/socket/" style="font-size: 14.44px;">socket</a> <a href="/tags/sphinx/" style="font-size: 11.67px;">sphinx</a> <a href="/tags/vagrant/" style="font-size: 12.22px;">vagrant</a> <a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" style="font-size: 11.11px;">微服务</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/" style="font-size: 15.56px;">数据传输</a> <a href="/tags/%E6%AD%A3%E5%88%99/" style="font-size: 11.67px;">正则</a> <a href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" style="font-size: 16.11px;">消息队列</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 18.33px;">爬虫</a> <a href="/tags/%E9%9B%86%E7%BE%A4/" style="font-size: 16.67px;">集群</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/03/11/%E5%A4%9A%E5%B1%82%E5%B5%8C%E5%A5%97%E7%9A%84div%E4%B8%94%E9%AB%98%E5%BA%A6%E9%83%BD%E4%B8%8D%E5%9B%BA%E5%AE%9A%EF%BC%8C%E8%AE%A9%E5%AD%90div%E5%86%85%E5%AE%B9%E6%BB%9A%E5%8A%A8/">多层嵌套的div且高度都不固定，让子div内容滚动</a>
          </li>
        
          <li>
            <a href="/2025/03/11/%E5%AD%90div%E5%A6%82%E4%BD%95%E5%8D%A0%E6%BB%A1%E7%88%B6div%E5%89%A9%E4%BD%99%E9%AB%98%E5%BA%A6/">子div如何占满父div剩余高度</a>
          </li>
        
          <li>
            <a href="/2024/08/07/el-input-%E5%90%84%E7%A7%8D%E8%BE%93%E5%85%A5%E9%99%90%E5%88%B6%E7%9A%84%E6%AD%A3%E5%88%99%E6%95%B4%E7%90%86/">el-input 各种输入限制的正则整理</a>
          </li>
        
          <li>
            <a href="/2024/08/07/el-input-number%E4%BF%AE%E6%94%B9%E6%95%B0%E5%80%BC%E5%A4%B1%E6%95%88%E7%9A%84%E9%97%AE%E9%A2%98/">el-input-number修改数值失效的问题</a>
          </li>
        
          <li>
            <a href="/2024/05/21/%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E7%94%A8-VuePress-GitHub-Pages-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/">手把手教你用 VuePress + GitHub Pages 搭建个人博客</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 moqiang<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>

<!-- rex -->

<script src="/js/toc.js"></script>


  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>