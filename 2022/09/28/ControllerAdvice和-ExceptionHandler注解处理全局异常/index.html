<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>@ControllerAdvice和@ExceptionHandler注解处理全局异常 | 自强不息</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="前言：开发过程中，难免有的程序会因为某些原因抛出异常，而这些异常一般都是利用try ，catch的方式处理异常或者throw，throws的方式抛出异常不管。这种方法对于程序员来说处理也比较麻烦，对客户来说也不太友好，所以我们希望既能方便程序员编写代码，不用过多的自己去处理各种异常编写重复的代码又能提升用户的体验，这时候全局异常处理就显得很重要也很便捷了。">
<meta property="og:type" content="article">
<meta property="og:title" content="@ControllerAdvice和@ExceptionHandler注解处理全局异常">
<meta property="og:url" content="http://moqiang02.github.io/2022/09/28/ControllerAdvice%E5%92%8C-ExceptionHandler%E6%B3%A8%E8%A7%A3%E5%A4%84%E7%90%86%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8/index.html">
<meta property="og:site_name" content="自强不息">
<meta property="og:description" content="前言：开发过程中，难免有的程序会因为某些原因抛出异常，而这些异常一般都是利用try ，catch的方式处理异常或者throw，throws的方式抛出异常不管。这种方法对于程序员来说处理也比较麻烦，对客户来说也不太友好，所以我们希望既能方便程序员编写代码，不用过多的自己去处理各种异常编写重复的代码又能提升用户的体验，这时候全局异常处理就显得很重要也很便捷了。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://moqiang02.github.io/images/ControllerAdvice%E5%92%8CExceptionHandler%E6%B3%A8%E8%A7%A3%E5%A4%84%E7%90%86%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8/1.png">
<meta property="article:published_time" content="2022-09-28T03:48:08.000Z">
<meta property="article:modified_time" content="2022-10-26T09:28:53.719Z">
<meta property="article:author" content="moqiang">
<meta property="article:tag" content="SpringBoot">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://moqiang02.github.io/images/ControllerAdvice%E5%92%8CExceptionHandler%E6%B3%A8%E8%A7%A3%E5%A4%84%E7%90%86%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8/1.png">
  
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">自强不息</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://moqiang02.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-ControllerAdvice和-ExceptionHandler注解处理全局异常" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/28/ControllerAdvice%E5%92%8C-ExceptionHandler%E6%B3%A8%E8%A7%A3%E5%A4%84%E7%90%86%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8/" class="article-date">
  <time class="dt-published" datetime="2022-09-28T03:48:08.000Z" itemprop="datePublished">2022-09-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/java/">java</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      @ControllerAdvice和@ExceptionHandler注解处理全局异常
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      

          <!-- rex -->
          
            <!-- 文章目录开始 -->
            
              <div id="toc" class="toc-article">
              <strong class="toc-title" style="cursor:pointer">目录</strong>
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81-ControllerAdvice%E5%92%8C-ExceptionHandler%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">一、@ControllerAdvice和@ExceptionHandler简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1%E3%80%81-ControllerAdvice"><span class="toc-number">1.1.</span> <span class="toc-text">1.1、@ControllerAdvice</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2%E3%80%81%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">1.2.</span> <span class="toc-text">1.2、全局异常处理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%81%9AController%E5%B1%82%E7%9A%84%E5%BC%82%E5%B8%B8%E7%BB%9F%E4%B8%80%E5%A4%84%E7%90%86%E4%BB%A5%E5%8F%8A%E7%BB%9F%E4%B8%80%E7%BB%93%E6%9E%9C%E8%BF%94%E5%9B%9E"><span class="toc-number">2.</span> <span class="toc-text">二、为什么要做Controller层的异常统一处理以及统一结果返回</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E4%BD%BF%E7%94%A8-ExceptionHandler%E5%92%8C-ControllerAdvice%E5%81%9A%E5%88%B0%E7%BB%9F%E4%B8%80%E5%A4%84%E7%90%86"><span class="toc-number">3.</span> <span class="toc-text">三、使用@ExceptionHandler和@ControllerAdvice做到统一处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1%E3%80%81-ExceptionHandler%E5%92%8C-ControllerAdvice%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">3.1.</span> <span class="toc-text">3.1、@ExceptionHandler和@ControllerAdvice基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2%E3%80%81-ExceptionHandler%E5%85%B7%E4%BD%93%E5%BC%82%E5%B8%B8%E7%9A%84%E5%A4%84%E7%90%86"><span class="toc-number">3.2.</span> <span class="toc-text">3.2、@ExceptionHandler具体异常的处理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%B1%BBCustomUserException"><span class="toc-number">4.</span> <span class="toc-text">四、自定义异常处理类CustomUserException</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%B1%BB"><span class="toc-number">4.1.</span> <span class="toc-text">4.1、自定义异常处理类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2%E3%80%81%E9%80%9A%E8%BF%87-ControllerAdvice%E5%92%8C-ExceptionHandler%E6%B3%A8%E8%A7%A3%EF%BC%8C%E5%AE%9E%E7%8E%B0%E7%BB%9F%E4%B8%80%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7"><span class="toc-number">4.2.</span> <span class="toc-text">4.2、通过@ControllerAdvice和@ExceptionHandler注解，实现统一异常捕获</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3%E3%80%81%E5%9C%A8%E4%B8%9A%E5%8A%A1%E4%BB%A3%E7%A0%81%E4%B8%AD%E5%9C%A8%E9%9C%80%E8%A6%81%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%E7%9A%84%E5%9C%B0%E6%96%B9%E6%8A%9B%E5%87%BA%E5%AF%B9%E5%BA%94%E7%9A%84%E5%BC%82%E5%B8%B8%E5%8D%B3%E5%8F%AF"><span class="toc-number">4.3.</span> <span class="toc-text">4.3、在业务代码中在需要抛出异常的地方抛出对应的异常即可</span></a></li></ol></li></ol>
              </div>
            
            <!-- 文章目录结束 -->	  
          

        <p><strong>前言：</strong>开发过程中，难免有的程序会因为某些原因抛出异常，而这些异常一般都是利用try ，catch的方式处理异常或者throw，throws的方式抛出异常不管。这种方法对于程序员来说处理也比较麻烦，对客户来说也不太友好，所以我们希望既能方便程序员编写代码，不用过多的自己去处理各种异常编写重复的代码又能提升用户的体验，这时候全局异常处理就显得很重要也很便捷了。<span id="more"></span></p>
<h2 id="一、-ControllerAdvice和-ExceptionHandler简介"><a href="#一、-ControllerAdvice和-ExceptionHandler简介" class="headerlink" title="一、@ControllerAdvice和@ExceptionHandler简介"></a>一、@ControllerAdvice和@ExceptionHandler简介</h2><p>在构建RestFul接口的今天，我们一般会限定好返回数据的格式，有利于前端调用解析，比如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;code&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;&#125;,</span><br><span class="line">  <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;操作成功&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但有时却往往会产生一些bug，这时候就破坏了返回数据的一致性，导致调用者无法解析。所以我们常常会定义一个全局的异常拦截器。</p>
<h3 id="1-1、-ControllerAdvice"><a href="#1-1、-ControllerAdvice" class="headerlink" title="1.1、@ControllerAdvice"></a>1.1、@ControllerAdvice</h3><blockquote>
<p>@ControllerAdvice 是Spring 3.2提供的新注解，可以对Controller中使用到@RequestMapping注解的方法做逻辑处理。</p>
</blockquote>
<p><code>@ControllerAdvice</code>，很多初学者可能都没有听说过这个注解，实际上这是一个非常有用的注解。顾名思义，这是一个增强的 Controller，一般配合@ExceptionHandler使用来处理全局异常。注意不能自己try和catch异常，否则就不会被全局异常处理捕获到。</p>
<p>使用这个注解 ，可以实现三个方面的功能：</p>
<ul>
<li>  全局异常处理</li>
<li>  全局数据绑定</li>
<li>  全局数据预处理</li>
</ul>
<p>灵活使用这三个功能，可以帮助我们简化很多工作，需要注意的是，这是 SpringMVC 提供的功能，在 Spring Boot 中可以直接使用，这里只介绍全局异常处理，需要其他功能可以访问参考链接。</p>
<h3 id="1-2、全局异常处理"><a href="#1-2、全局异常处理" class="headerlink" title="1.2、全局异常处理"></a>1.2、全局异常处理</h3><p>Springboot对于全局异常的处理做了不错的支持，它提供了两个可用的注解。</p>
<p>@ControllerAdvice：用来开启全局的异常捕获</p>
<p>@ExceptionHandler：说明捕获哪些异常，对哪些异常进行处理。</p>
<p><strong>使用 @ControllerAdvice结合@ExceptionHandler 实现全局异常处理</strong>，只需要定义类，添加该注解即可定义方式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//可以使Spring自动把要返回的对象转化成json文本写入到响应体中，比如自定义的ResultBean</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="meta">@ControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyGlobalExceptionHandler</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 专门用来捕获和处理Controller层的异常</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(Exception.class)</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">customException</span><span class="params">(Exception e)</span> </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">        mv.addObject(<span class="string">&quot;message&quot;</span>, e.getMessage());</span><br><span class="line">        mv.setViewName(<span class="string">&quot;myerror&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// 专门用来捕获和处理Controller层的空指针异常</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(NullPointerException.class)</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">nullPointerExceptionHandler</span><span class="params">(NullPointerException e)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>(<span class="keyword">new</span> <span class="title class_">MappingJackson2JsonView</span>());</span><br><span class="line">        mv.addObject(<span class="string">&quot;success&quot;</span>,<span class="literal">false</span>);</span><br><span class="line">        mv.addObject(<span class="string">&quot;mesg&quot;</span>,<span class="string">&quot;请求发生了空指针异常，请稍后再试&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在该类中，可以定义多个方法，不同的方法处理不同的异常，例如专门处理空指针的方法、专门处理数组越界的方法…，也可以直接向上面代码一样，在一个方法中处理所有的异常信息。</p>
<p>@ExceptionHandler 注解用来指明异常的处理类型，即如果这里指定为 NullpointerException，则数组越界异常就不会进到这个方法中来。</p>
<h2 id="二、为什么要做Controller层的异常统一处理以及统一结果返回"><a href="#二、为什么要做Controller层的异常统一处理以及统一结果返回" class="headerlink" title="二、为什么要做Controller层的异常统一处理以及统一结果返回"></a>二、为什么要做Controller层的异常统一处理以及统一结果返回</h2><p>不知道你平时在写Controller层接口的时候，有没有注意过抛出异常该怎么处理，是否第一反应是想着用个try-catch来捕获异常？但是这样地处理只适合那种编译器主动提示的<strong>检查时异常</strong>，因为你不用try-catch就过不了编译检查，所以你能主动地抓获异常并进行处理。但是，如果存在<strong>运行时异常</strong>且你没有来得及想到去处理它的时候会发生什么呢？我们可以来先看看下面的这个没有处理运行时异常的例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionRest</span> &#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;getNullPointerException&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title function_">getNullPointerException</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>(<span class="string">&quot;出现了空指针异常&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上代码在基于maven的SpringMVC项目中，使用tomcat启动后，浏览器端发起如下请求：</p>
<p><code>http://localhost:8080/zxtest/getNullPointerException</code></p>
<p>访问后得到的结果是这样的，浏览器收到的报错信息：</p>
<p><img src="/images/ControllerAdvice%E5%92%8CExceptionHandler%E6%B3%A8%E8%A7%A3%E5%A4%84%E7%90%86%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8/1.png"></p>
<p> 可以看到，我们在Controller接口层抛出了一个空指针异常，然后没有捕获，结果<strong>异常堆栈</strong>就会返回给前端浏览器，给用户造成了非常不好的体验。</p>
<p>除此之外，前端从报错信息中能看到后台系统使用的服务器及中间件类型、所采用的框架信息及类信息，甚至如果后端抛出的是SQL异常，那么还可以看到SQL异常的具体查询的参数信息，这是一个中危安全漏洞，是必须要修复的。</p>
<h2 id="三、使用-ExceptionHandler和-ControllerAdvice做到统一处理"><a href="#三、使用-ExceptionHandler和-ControllerAdvice做到统一处理" class="headerlink" title="三、使用@ExceptionHandler和@ControllerAdvice做到统一处理"></a>三、使用@ExceptionHandler和@ControllerAdvice做到统一处理</h2><p>当出现这种运行时异常的时候，我们想到的最简单的方法也许就是给可能会抛出异常的代码加上异常处理，如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionRest</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Logger</span> <span class="variable">log</span> <span class="operator">=</span> LoggerFactory.getLogger(ExceptionRest.class);</span><br><span class="line">    <span class="meta">@GetMapping(&quot;getNullPointerException&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title function_">getNullPointerException</span><span class="params">()</span>&#123;</span><br><span class="line">        Map&lt;String,Object&gt; returnMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String,Object&gt;();</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>(<span class="string">&quot;出现了空指针异常&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(NullPointerException e)&#123;</span><br><span class="line">            log.error(<span class="string">&quot;出现了空指针异常&quot;</span>,e);</span><br><span class="line">            returnMap.put(<span class="string">&quot;success&quot;</span>,<span class="literal">false</span>);</span><br><span class="line">            returnMap.put(<span class="string">&quot;mesg&quot;</span>,<span class="string">&quot;请求发生异常，请稍后再试&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> returnMap;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>因为我们手动地在抛出异常的地方加上了处理，并妥善地返回发生异常时该返回给前端的内容，因此，当我们再次在浏览器发起相同的请求时得到就是以下内容：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  success: <span class="literal">false</span>,</span><br><span class="line">  mesg: <span class="string">&quot;请求发生异常，请稍后再试&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>貌似问题得到了解决，但是你能确保你可以在所有可能会发生异常的地方都正好捕获了异常并处理吗？你能确保团队的其他人也这么做？</p>
<p><strong>很明显，你需要一个统一的异常捕获与处理方案。</strong></p>
<p>Spring3.2以后，SpringMVC引入了ExceptionHandler的处理方法，使得对异常的处理变得更加简单和精确，你唯一需要做的就是新建一个Controller，然后再里面加上两个注解即可完成Controller层所有异常的捕获与处理。</p>
<h3 id="3-1、-ExceptionHandler和-ControllerAdvice基本使用"><a href="#3-1、-ExceptionHandler和-ControllerAdvice基本使用" class="headerlink" title="3.1、@ExceptionHandler和@ControllerAdvice基本使用"></a><strong>3.1、</strong>@ExceptionHandler和@ControllerAdvice<strong>基本使用</strong></h3><p>新建一个Controller如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionConfigController</span> &#123;</span><br><span class="line">    <span class="meta">@ExceptionHandler</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">exceptionHandler</span><span class="params">(Exception e)</span>&#123;</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>(<span class="keyword">new</span> <span class="title class_">MappingJackson2JsonView</span>());</span><br><span class="line">        mv.addObject(<span class="string">&quot;success&quot;</span>,<span class="literal">false</span>);</span><br><span class="line">        mv.addObject(<span class="string">&quot;mesg&quot;</span>,<span class="string">&quot;请求发生了异常，请稍后再试&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们在如上的代码中，类上加了<code>@ControllerAdvice</code>注解，表示它是一个增强版的controller，然后在里面创建了一个返回ModelAndView对象的exceptionHandler方法，其上加上<code>@ExceptionHandler</code>注解，表示这是一个异常处理方法，然后在方法里面写上具体的异常处理及返回参数逻辑即可，如此就完成了所有的工作，真的是太方便了。</p>
<p>我们在浏览器发起调用后就返回了如下的结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;success: <span class="literal">false</span>,mesg: <span class="string">&quot;请求发生了异常，请稍后再试&quot;</span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2、-ExceptionHandler具体异常的处理"><a href="#3-2、-ExceptionHandler具体异常的处理" class="headerlink" title="3.2、@ExceptionHandler具体异常的处理"></a>3.2、@ExceptionHandler具体异常的处理</h3><p>相比与<code>HandlerExceptionResolver</code>而言，使用<code>@ExceptionHandler</code>更能灵活地对不同的异常进行分别的处理。并且，当抛出的异常是指定异常的子类，那么照样能够被捕获和处理。</p>
<p>我们改变下controller层的代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionController</span> &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@GetMapping(&quot;getNullPointerException&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title function_">getNullPointerException</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>(<span class="string">&quot;出现了空指针异常&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@GetMapping(&quot;getClassCastException&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title function_">getClassCastException</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ClassCastException</span>(<span class="string">&quot;出现了类型转换异常&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@GetMapping(&quot;getIOException&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title function_">getIOException</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IOException</span>(<span class="string">&quot;出现了IO异常&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>已知<code>NullPointerException</code>和<code>ClassCastException</code>都继承<code>RuntimeException</code>，而<code>RuntimeException</code>和<code>IOException</code>都继承<code>Exception</code>。</p>
<p>我们在<code>ExceptionConfigController</code>做这样的处理：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionConfigController</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 专门用来捕获和处理Controller层的空指针异常</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(NullPointerException.class)</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">nullPointerExceptionHandler</span><span class="params">(NullPointerException e)</span>&#123;</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>(<span class="keyword">new</span> <span class="title class_">MappingJackson2JsonView</span>());</span><br><span class="line">        mv.addObject(<span class="string">&quot;success&quot;</span>,<span class="literal">false</span>);</span><br><span class="line">        mv.addObject(<span class="string">&quot;mesg&quot;</span>,<span class="string">&quot;请求发生了空指针异常，请稍后再试&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// 专门用来捕获和处理Controller层的运行时异常</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(RuntimeException.class)</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">runtimeExceptionHandler</span><span class="params">(RuntimeException e)</span>&#123;</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>(<span class="keyword">new</span> <span class="title class_">MappingJackson2JsonView</span>());</span><br><span class="line">        mv.addObject(<span class="string">&quot;success&quot;</span>,<span class="literal">false</span>);</span><br><span class="line">        mv.addObject(<span class="string">&quot;mesg&quot;</span>,<span class="string">&quot;请求发生了运行时异常，请稍后再试&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// 专门用来捕获和处理Controller层的异常</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(Exception.class)</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">exceptionHandler</span><span class="params">(Exception e)</span>&#123;</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>(<span class="keyword">new</span> <span class="title class_">MappingJackson2JsonView</span>());</span><br><span class="line">        mv.addObject(<span class="string">&quot;success&quot;</span>,<span class="literal">false</span>);</span><br><span class="line">        mv.addObject(<span class="string">&quot;mesg&quot;</span>,<span class="string">&quot;请求发生了异常，请稍后再试&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>  当我们在Controller层抛出<code>NullPointerException</code>时，就会被<code>nullPointerExceptionHandler</code>进行处理，然后拦截。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;success: <span class="literal">false</span>,mesg: <span class="string">&quot;请求发生了空指针异常，请稍后再试&quot;</span>&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>  当我们在Controller层抛出<code>ClassCastException</code>时，就会被<code>runtimeExceptionHandler</code>进行处理，然后拦截。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;success: <span class="literal">false</span>,mesg: <span class="string">&quot;请求发生了运行时异常，请稍后再试&quot;</span>&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>  当我们在Controller层抛出<code>IOException</code>时，就会被<code>exceptionHandler</code>进行处理，然后拦截。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;success: <span class="literal">false</span>,mesg: <span class="string">&quot;请求发生了异常，请稍后再试&quot;</span>&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>SpringMVC为我们提供的Controller层异常处理真的是太方便了，尤其是<code>@ExceptionHandler</code>，推荐大家使用。</p>
<h2 id="四、自定义异常处理类CustomUserException"><a href="#四、自定义异常处理类CustomUserException" class="headerlink" title="四、自定义异常处理类CustomUserException"></a>四、自定义异常处理类CustomUserException</h2><h3 id="4-1、自定义异常处理类"><a href="#4-1、自定义异常处理类" class="headerlink" title="4.1、自定义异常处理类"></a>4.1、自定义异常处理类</h3><p>在程序中，可能会遇到JDK提供的任何标准异常类都无法充分描述清楚我们想要表达的问题，又或者捕捉数据库异常时候不知道具体异常名字，这种情况下可以创建自己的异常类，即自定义异常类，在需要的时候手动throw出,然后再全局异常统一处理。</p>
<blockquote>
<p>自定义异常类只需从Exception类或者它的子类派生一个子类即可。自定义异常类如果继承Exception类，则为受检查异常，必须对其进行处理;如果不想处理，可以让自定义异常类继承运行时异常RuntimeException类。习惯上，自定义异常类应该包含2个构造器：一个是默认的构造器，另一个是带有详细信息的构造器。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*   自定义异常的步骤：</span></span><br><span class="line"><span class="comment">*  （1）继承 Exception 或 RuntimeException</span></span><br><span class="line"><span class="comment">*  （2）定义构造方法</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CustomUserException</span> <span class="keyword">extends</span> <span class="title class_">RuntimeException</span> &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CustomUserException</span><span class="params">(UserResponseEnum userResponseEnum)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(userResponseEnum.getDescription());</span><br><span class="line">        <span class="built_in">this</span>.code = userResponseEnum.getCode();</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在构造自定义业务异常对象时使用了枚举的方式，将常见的业务错误提示语对应的错误代码进行映射，枚举类如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">UserResponseEnum</span> &#123;</span><br><span class="line"> </span><br><span class="line">    USER_NOT_FOUND(<span class="number">50001</span>,<span class="string">&quot;用户不存在&quot;</span>),</span><br><span class="line"> </span><br><span class="line">    USER_AUTHENTICATION_ERROR(<span class="number">50002</span>,<span class="string">&quot;用户密码不正确&quot;</span>);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">private</span> String description;</span><br><span class="line"> </span><br><span class="line">    UserResponseEnum(Integer code, String description) &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">        <span class="built_in">this</span>.description = description;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCode</span><span class="params">(Integer code)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDescription</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> description;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDescription</span><span class="params">(String description)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.description = description;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-2、通过-ControllerAdvice和-ExceptionHandler注解，实现统一异常捕获"><a href="#4-2、通过-ControllerAdvice和-ExceptionHandler注解，实现统一异常捕获" class="headerlink" title="4.2、通过@ControllerAdvice和@ExceptionHandler注解，实现统一异常捕获"></a>4.2、通过<code>@ControllerAdvice</code>和<code>@ExceptionHandler</code>注解，实现统一异常捕获</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@ControllerAdvice(basePackages = &#123;&quot;com.hs.controller&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CustomExceptionAdvice</span> </span><br><span class="line">&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LoggerFactory.getLogger(CustomExceptionAdvice.class);</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 处理与用户相关的业务异常</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(CustomUserException.class)</span></span><br><span class="line">    <span class="keyword">public</span> BaseResult <span class="title function_">UserExceptionHandler</span><span class="params">(HttpServletRequest request,CustomUserException e)</span>&#123;</span><br><span class="line">        logger.error(<span class="string">&quot;用户信息异常：Host:&#123;&#125; invoke URL:&#123;&#125;,错误信息：&#123;&#125;&quot;</span>,request.getRemoteHost(),request.getRequestURL(),e.getMessage());</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">BaseResult</span>(e.getCode(),<span class="literal">false</span>,e.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-3、在业务代码中在需要抛出异常的地方抛出对应的异常即可"><a href="#4-3、在业务代码中在需要抛出异常的地方抛出对应的异常即可" class="headerlink" title="4.3、在业务代码中在需要抛出异常的地方抛出对应的异常即可"></a>4.3、在业务代码中在需要抛出异常的地方抛出对应的异常即可</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 根据主键获取用户实体</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"><span class="keyword">public</span> User <span class="title function_">selectById</span><span class="params">(String id)</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userMapper.selectByPrimaryId(id);</span><br><span class="line">    <span class="keyword">if</span> (user == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CustomUserException</span>(UserResponseEnum.USER_NOT_FOUND);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> user;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------</span><br><span class="line">返回信息如下：</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;code&quot;</span>: <span class="number">50001</span>,</span><br><span class="line">    <span class="string">&quot;data&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="string">&quot;message&quot;</span>: <span class="string">&quot;用户不存在&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">前端即可根据返回信息对用户进行友好的提示。</span><br></pre></td></tr></table></figure>



<blockquote>
<p>参考链接：<br><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000023059632" title="SpringBoot异常捕获与封装处理，看完你学会了吗？​​​​​​">SpringBoot异常捕获与封装处理，看完你学会了吗？​​​​​​</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/66228306" title="Java自定义异常详解">Java自定义异常详解</a><br><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/6WnfoVnqKyRxK0z9-wUI5Q" title="如何让业务代码写的好看(六):异常处理规范">如何让业务代码写的好看(六):异常处理规范</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/happy4java/p/11205785.html" title="全局异常捕获，异常流处理业务逻辑">全局异常捕获，异常流处理业务逻辑</a></p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://moqiang02.github.io/2022/09/28/ControllerAdvice%E5%92%8C-ExceptionHandler%E6%B3%A8%E8%A7%A3%E5%A4%84%E7%90%86%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8/" data-id="cla0v65t600a0g0v118lzg4bn" data-title="@ControllerAdvice和@ExceptionHandler注解处理全局异常" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SpringBoot/" rel="tag">SpringBoot</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/09/28/SpringBoot%E5%BF%AB%E9%80%9F%E5%AE%9E%E7%8E%B0%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前一篇</strong>
      <div class="article-nav-title">
        
          SpringBoot快速实现发送邮件
        
      </div>
    </a>
  
  
    <a href="/2022/09/28/Springboot%E4%B8%AD-Async%E5%BC%82%E6%AD%A5%EF%BC%8C%E5%AE%9E%E7%8E%B0%E5%BC%82%E6%AD%A5%E7%BB%93%E6%9E%9C%E5%90%88%E5%B9%B6%E7%BB%9F%E4%B8%80%E8%BF%94%E5%9B%9E/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">后一篇</strong>
      <div class="article-nav-title">Springboot中@Async异步，实现异步结果合并统一返回</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/android/">android</a><span class="category-list-count">255</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/apache/">apache</a><span class="category-list-count">27</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/flutter/">flutter</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/github%E5%8D%9A%E5%AE%A2/">github博客</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/go/">go</a><span class="category-list-count">26</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/html-css/">html+css</a><span class="category-list-count">24</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iis/">iis</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">71</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a><span class="category-list-count">114</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/kotlin/">kotlin</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">68</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mac/">mac</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/memcached/">memcached</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a><span class="category-list-count">19</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a><span class="category-list-count">72</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/nginx/">nginx</a><span class="category-list-count">41</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/nodejs/">nodejs</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/php/">php</a><span class="category-list-count">185</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a><span class="category-list-count">44</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/redis/">redis</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%85%B6%E5%AE%83/">其它</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">开发工具</a><span class="category-list-count">51</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/">开源项目</a><span class="category-list-count">73</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB%E9%9A%8F%E7%AC%94/">生活随笔</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E7%BB%9C/">网络</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93/">量化交易</a><span class="category-list-count">3</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/AndroidStudio/" style="font-size: 13.75px;">AndroidStudio</a> <a href="/tags/AndroidUI/" style="font-size: 20px;">AndroidUI</a> <a href="/tags/Android%E4%BA%8B%E4%BB%B6%E6%8B%A6%E6%88%AA/" style="font-size: 11.25px;">Android事件拦截</a> <a href="/tags/Android%E5%BC%80%E6%BA%90/" style="font-size: 18.13px;">Android开源</a> <a href="/tags/CI/" style="font-size: 15.63px;">CI</a> <a href="/tags/CURL/" style="font-size: 13.13px;">CURL</a> <a href="/tags/DEDE/" style="font-size: 18.75px;">DEDE</a> <a href="/tags/Docker/" style="font-size: 15px;">Docker</a> <a href="/tags/Flask/" style="font-size: 10.63px;">Flask</a> <a href="/tags/JavaSE/" style="font-size: 18.13px;">JavaSE</a> <a href="/tags/Laravel/" style="font-size: 18.13px;">Laravel</a> <a href="/tags/Maven/" style="font-size: 11.25px;">Maven</a> <a href="/tags/MybatisPlus/" style="font-size: 10.63px;">MybatisPlus</a> <a href="/tags/SVN/" style="font-size: 10px;">SVN</a> <a href="/tags/SpringBoot/" style="font-size: 19.38px;">SpringBoot</a> <a href="/tags/Thinkphp/" style="font-size: 10px;">Thinkphp</a> <a href="/tags/UEditor/" style="font-size: 11.88px;">UEditor</a> <a href="/tags/VMware/" style="font-size: 12.5px;">VMware</a> <a href="/tags/Vue/" style="font-size: 18.13px;">Vue</a> <a href="/tags/WebSocket/" style="font-size: 13.13px;">WebSocket</a> <a href="/tags/ecshop/" style="font-size: 15px;">ecshop</a> <a href="/tags/scrapy/" style="font-size: 14.38px;">scrapy</a> <a href="/tags/smarty/" style="font-size: 12.5px;">smarty</a> <a href="/tags/socket/" style="font-size: 15px;">socket</a> <a href="/tags/sphinx/" style="font-size: 11.88px;">sphinx</a> <a href="/tags/vagrant/" style="font-size: 12.5px;">vagrant</a> <a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" style="font-size: 11.25px;">微服务</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/" style="font-size: 15.63px;">数据传输</a> <a href="/tags/%E6%AD%A3%E5%88%99/" style="font-size: 11.88px;">正则</a> <a href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" style="font-size: 16.25px;">消息队列</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 16.88px;">爬虫</a> <a href="/tags/%E9%9B%86%E7%BE%A4/" style="font-size: 17.5px;">集群</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/12/18/Java%E4%B8%ADInteger%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%95%B4%E6%95%B0%E5%80%BC%E7%9A%84%E5%A4%A7%E5%B0%8F%E6%AF%94%E8%BE%83/">Java中Integer类型的整数值的大小比较</a>
          </li>
        
          <li>
            <a href="/2022/12/09/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%AD%E6%96%AD%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%96%B9%E6%B3%95/">多线程中断线程的方法</a>
          </li>
        
          <li>
            <a href="/2022/12/08/Spring-boot-%E4%B9%8B%E5%8A%A8%E6%80%81%E7%9A%84%E8%8E%B7%E5%8F%96%E4%B8%8D%E5%90%8C%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB/">Spring boot 之动态的获取不同的实现类</a>
          </li>
        
          <li>
            <a href="/2022/12/07/MyBatisPlus%E5%85%B3%E8%81%94%E6%9F%A5%E8%AF%A2/">MyBatisPlus关联查询</a>
          </li>
        
          <li>
            <a href="/2022/12/07/MyBatisPlus-%E8%87%AA%E5%AE%9A%E4%B9%89sql%E8%AF%AD%E5%8F%A5/">MyBatisPlus 自定义sql语句</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 moqiang<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>

<!-- rex -->

<script src="/js/toc.js"></script>


  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>